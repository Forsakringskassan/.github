name: Bundle Gradle CI

on:
  workflow_call:
    secrets:
      PACKAGES_RW_ACTOR:
        required: true
      PACKAGES_RW_TOKEN:
        required: true

jobs:
  call-gradle-ci:
    uses: Forsakringskassan/.github/.github/workflows/gradle-ci.yaml@main
    secrets:
      PACKAGES_RW_ACTOR: ${{ secrets.PACKAGES_RW_ACTOR }}
      PACKAGES_RW_TOKEN: ${{ secrets.PACKAGES_RW_TOKEN }}
  call-pnr-scan:
    uses: Forsakringskassan/.github/.github/workflows/pnr-scanner.yaml@main
  publish-release:
    if: startsWith(github.ref, 'refs/tags/')
    uses: Forsakringskassan/.github/.github/workflows/publish-release-on-tag-push.yaml@main
